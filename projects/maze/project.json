{
  "project": {
    "name": "Maze Generator",
    "slug": "maze",
    "version": "0.1.0",
    "description": {
      "es": "Generador de laberintos para posavasos, cubos y cilindros",
      "en": "Maze generator for coasters, cubes, and cylinders"
    },
    "thumbnail": "/projects/maze.webp",
    "tags": [
      "maze",
      "puzzle",
      "game"
    ],
    "difficulty": "beginner"
  },
  "modes": [
    {
      "id": "coaster",
      "scad_file": "maze_coaster.scad",
      "label": {
        "es": "Posavasos",
        "en": "Coaster"
      },
      "parts": [
        "coaster"
      ],
      "estimate": {
        "base_units": 1,
        "formula": "constant"
      }
    },
    {
      "id": "cube",
      "scad_file": "maze_cube.scad",
      "label": {
        "es": "Cubo",
        "en": "Cube"
      },
      "parts": [
        "cube"
      ],
      "estimate": {
        "base_units": 2,
        "formula": "constant"
      }
    },
    {
      "id": "cylinder",
      "scad_file": "maze_cylinder.scad",
      "label": {
        "es": "Cilindro",
        "en": "Cylinder"
      },
      "parts": [
        "cylinder"
      ],
      "estimate": {
        "base_units": 2,
        "formula": "constant"
      }
    }
  ],
  "parts": [
    {
      "id": "coaster",
      "render_mode": 0,
      "label": {
        "es": "Posavasos",
        "en": "Coaster"
      },
      "default_color": "#e74c3c"
    },
    {
      "id": "cube",
      "render_mode": 0,
      "label": {
        "es": "Cubo",
        "en": "Cube"
      },
      "default_color": "#9b59b6"
    },
    {
      "id": "cylinder",
      "render_mode": 0,
      "label": {
        "es": "Cilindro",
        "en": "Cylinder"
      },
      "default_color": "#1abc9c"
    }
  ],
  "presets": [
    {
      "id": "simple_coaster_maze",
      "label": {
        "es": "Posavasos Simple",
        "en": "Simple Coaster Maze"
      },
      "values": {
        "rows": 8,
        "cols": 8,
        "cell_size": 5,
        "diameter": 100,
        "wall_thickness": 1.2
      }
    },
    {
      "id": "challenging_cube",
      "label": {
        "es": "Cubo Desafiante",
        "en": "Challenging Cube"
      },
      "values": {
        "rows": 15,
        "cols": 15,
        "cell_size": 4,
        "wall_height": 5,
        "wall_thickness": 1.2
      }
    },
    {
      "id": "cylinder_puzzle",
      "label": {
        "es": "Cilindro Puzzle",
        "en": "Cylinder Puzzle"
      },
      "values": {
        "rows": 12,
        "cols": 12,
        "diameter": 80,
        "wall_height": 4,
        "wall_thickness": 1
      }
    },
    {
      "id": "mini_coaster",
      "label": {
        "es": "Posavasos Mini",
        "en": "Mini Coaster"
      },
      "values": {
        "rows": 6,
        "cols": 6,
        "cell_size": 4,
        "diameter": 70,
        "wall_height": 2,
        "wall_thickness": 1
      }
    },
    {
      "id": "expert_cube",
      "label": {
        "es": "Cubo Experto",
        "en": "Expert Cube"
      },
      "values": {
        "rows": 25,
        "cols": 25,
        "cell_size": 3,
        "wall_height": 4,
        "wall_thickness": 0.8
      }
    },
    {
      "id": "decorative_cylinder",
      "label": {
        "es": "Cilindro Decorativo",
        "en": "Decorative Cylinder"
      },
      "values": {
        "rows": 8,
        "cols": 20,
        "diameter": 100,
        "wall_height": 6,
        "cell_size": 6,
        "wall_thickness": 1.5
      }
    },
    {
      "id": "kids_maze",
      "label": {
        "es": "Laberinto Infantil",
        "en": "Kids Maze"
      },
      "values": {
        "rows": 5,
        "cols": 5,
        "cell_size": 8,
        "diameter": 100,
        "wall_height": 5,
        "wall_thickness": 2
      }
    }
  ],
  "parameters": [
    {
      "id": "rows",
      "type": "slider",
      "default": 10,
      "min": 5,
      "max": 30,
      "step": 1,
      "label": {
        "es": "Filas",
        "en": "Rows"
      },
      "tooltip": {
        "es": "Numero de filas del laberinto",
        "en": "Number of maze rows"
      },
      "visible_in_modes": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "group": "maze"
    },
    {
      "id": "cols",
      "type": "slider",
      "default": 10,
      "min": 5,
      "max": 30,
      "step": 1,
      "label": {
        "es": "Columnas",
        "en": "Columns"
      },
      "tooltip": {
        "es": "Numero de columnas del laberinto",
        "en": "Number of maze columns"
      },
      "visible_in_modes": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "group": "maze"
    },
    {
      "id": "cell_size",
      "type": "slider",
      "default": 5,
      "min": 3,
      "max": 10,
      "step": 0.5,
      "label": {
        "es": "Tamano de celda (mm)",
        "en": "Cell Size (mm)"
      },
      "tooltip": {
        "es": "Tamano de cada celda del laberinto",
        "en": "Size of each maze cell"
      },
      "visible_in_modes": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "group": "maze"
    },
    {
      "id": "wall_thickness",
      "type": "slider",
      "default": 1.2,
      "min": 0.8,
      "max": 3,
      "step": 0.2,
      "label": {
        "es": "Grosor de pared (mm)",
        "en": "Wall Thickness (mm)"
      },
      "tooltip": {
        "es": "Grosor de las paredes del laberinto",
        "en": "Thickness of maze walls"
      },
      "visible_in_modes": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "group": "maze"
    },
    {
      "id": "wall_height",
      "type": "slider",
      "default": 3,
      "min": 1,
      "max": 10,
      "step": 0.5,
      "label": {
        "es": "Altura de pared (mm)",
        "en": "Wall Height (mm)"
      },
      "tooltip": {
        "es": "Altura de las paredes del laberinto",
        "en": "Height of maze walls"
      },
      "visible_in_modes": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "group": "maze"
    },
    {
      "id": "base_thickness",
      "type": "slider",
      "default": 2,
      "min": 1,
      "max": 5,
      "step": 0.5,
      "label": {
        "es": "Grosor de base (mm)",
        "en": "Base Thickness (mm)"
      },
      "tooltip": {
        "es": "Grosor de la placa base",
        "en": "Thickness of the base plate"
      },
      "visible_in_modes": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "group": "dimensions"
    },
    {
      "id": "seed",
      "type": "slider",
      "default": 123,
      "min": 1,
      "max": 9999,
      "step": 1,
      "label": {
        "es": "Semilla aleatoria",
        "en": "Random Seed"
      },
      "tooltip": {
        "es": "Semilla para generar el laberinto",
        "en": "Seed for maze generation"
      },
      "visible_in_modes": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "group": "maze"
    },
    {
      "id": "diameter",
      "type": "slider",
      "default": 100,
      "min": 50,
      "max": 150,
      "step": 5,
      "label": {
        "es": "Diametro (mm)",
        "en": "Diameter (mm)"
      },
      "tooltip": {
        "es": "Diametro del posavasos o cilindro",
        "en": "Diameter of coaster or cylinder"
      },
      "visible_in_modes": [
        "coaster",
        "cylinder"
      ],
      "group": "dimensions"
    }
  ],
  "parameter_groups": [
    {
      "id": "maze",
      "label": {
        "es": "Laberinto",
        "en": "Maze"
      }
    },
    {
      "id": "dimensions",
      "label": {
        "es": "Dimensiones",
        "en": "Dimensions"
      }
    },
    {
      "id": "colors",
      "label": {
        "es": "Colores",
        "en": "Colors"
      }
    }
  ],
  "constraints": [
    {
      "rule": "wall_thickness >= 0.8",
      "message": {
        "es": "Grosor minimo de 0.8mm para impresion FDM",
        "en": "Minimum 0.8mm thickness for FDM printing"
      },
      "severity": "error",
      "applies_to": [
        "wall_thickness"
      ]
    },
    {
      "rule": "base_thickness >= 1",
      "message": {
        "es": "Base muy delgada para impresion estable",
        "en": "Base too thin for stable printing"
      },
      "severity": "error",
      "applies_to": [
        "base_thickness"
      ]
    },
    {
      "rule": "rows * cols <= 500",
      "message": {
        "es": "Laberinto muy complejo, el renderizado puede ser lento",
        "en": "Very complex maze, rendering may be slow"
      },
      "severity": "warning",
      "applies_to": [
        "rows",
        "cols"
      ]
    },
    {
      "rule": "cell_size >= wall_thickness * 2",
      "message": {
        "es": "Celda debe ser al menos el doble del grosor de pared",
        "en": "Cell must be at least twice the wall thickness"
      },
      "severity": "error",
      "applies_to": [
        "cell_size",
        "wall_thickness"
      ]
    }
  ],
  "bom": {
    "hardware": [
      {
        "id": "steel_ball",
        "label": {
          "es": "Bola de acero 3mm (para resolver el laberinto)",
          "en": "3mm steel ball (to solve the maze)"
        },
        "quantity_formula": 1,
        "unit": "pcs",
        "supplier_url": "https://www.amazon.com/dp/B08Z3BX9ZN"
      },
      {
        "id": "felt_pads",
        "label": {
          "es": "Fieltro adhesivo (para posavasos)",
          "en": "Adhesive felt pads (for coaster)"
        },
        "quantity_formula": 1,
        "unit": "sheet"
      }
    ]
  },
  "materials": [
    {
      "id": "pla",
      "name": "PLA",
      "density": 1.24,
      "cost_per_kg": 20,
      "print_speed_factor": 1.0
    },
    {
      "id": "petg",
      "name": "PETG",
      "density": 1.27,
      "cost_per_kg": 25,
      "print_speed_factor": 0.85
    }
  ],
  "assembly_steps": [
    {
      "step": 1,
      "label": {
        "es": "Imprime el laberinto",
        "en": "Print the maze"
      },
      "notes": {
        "es": "Lado plano abajo, 0.2mm capas, 20% relleno",
        "en": "Flat side down, 0.2mm layers, 20% infill"
      },
      "visible_parts": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "highlight_parts": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "camera": [
        80,
        -80,
        60
      ],
      "camera_target": [
        0,
        0,
        10
      ]
    },
    {
      "step": 2,
      "label": {
        "es": "Limpia la pieza",
        "en": "Clean the piece"
      },
      "notes": {
        "es": "Retira soportes si hubo. Verifica que la bola pasa por los pasillos",
        "en": "Remove supports if any. Verify the ball fits through corridors"
      },
      "visible_parts": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "highlight_parts": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "camera": [
        0,
        -100,
        40
      ],
      "camera_target": [
        0,
        0,
        10
      ]
    },
    {
      "step": 3,
      "label": {
        "es": "Agrega la bola de acero",
        "en": "Add the steel ball"
      },
      "notes": {
        "es": "Coloca la bola en la entrada del laberinto",
        "en": "Place the ball at the maze entrance"
      },
      "visible_parts": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "highlight_parts": [
        "coaster",
        "cube",
        "cylinder"
      ],
      "camera": [
        80,
        -40,
        20
      ],
      "camera_target": [
        0,
        0,
        5
      ],
      "hardware": [
        "steel_ball"
      ]
    }
  ],
  "verification": {
    "stages": {
      "geometry": {
        "checks": {
          "watertight": {
            "enabled": true
          },
          "body_count": {
            "enabled": true,
            "expected": 1
          },
          "dimensions": {
            "enabled": true,
            "xy_tolerance_mm": 1.0,
            "z_ratio_min": 0.9,
            "z_ratio_max": 1.1
          },
          "facet_count": {
            "enabled": true,
            "min_facets": 100
          }
        }
      },
      "printability": {
        "checks": {
          "thin_wall": {
            "enabled": true,
            "min_thickness_mm": 0.8
          },
          "overhang": {
            "enabled": true,
            "max_angle_deg": 60
          },
          "min_feature_size": {
            "enabled": true,
            "min_size_mm": 0.4
          }
        }
      }
    },
    "mode_overrides": {
      "coaster": {
        "stages": [
          "geometry",
          "printability"
        ]
      },
      "cube": {
        "stages": [
          "geometry",
          "printability"
        ]
      },
      "cylinder": {
        "stages": [
          "geometry",
          "printability"
        ]
      }
    }
  },
  "export_formats": [
    "stl",
    "3mf",
    "off"
  ],
  "print_estimation": {
    "default_material": "pla",
    "default_infill": 0.2
  },
  "camera_views": [
    {
      "id": "iso",
      "label": {
        "es": "Isometrico",
        "en": "Isometric"
      },
      "position": [
        80,
        80,
        80
      ]
    },
    {
      "id": "top",
      "label": {
        "es": "Superior",
        "en": "Top"
      },
      "position": [
        0,
        0,
        150
      ]
    },
    {
      "id": "front",
      "label": {
        "es": "Frente",
        "en": "Front"
      },
      "position": [
        0,
        -150,
        0
      ]
    },
    {
      "id": "right",
      "label": {
        "es": "Derecha",
        "en": "Right"
      },
      "position": [
        150,
        0,
        0
      ]
    }
  ],
  "viewer": {
    "default_color": "#e74c3c"
  },
  "estimate_constants": {
    "base_time": 6,
    "per_unit": 1,
    "per_part": 8,
    "fn_factor": 32,
    "wasm_multiplier": 3,
    "warning_threshold_seconds": 60
  }
}
